<!DOCTYPE html>
<html class="h-100" xmlns="http://www.w3.org/1999/xhtml"
	xmlns:th="https://www.thymeleaf.org"
	xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity5">
	
<head>
<meta charset="UTF-8">
<title>Fragments - Header Login Section</title>
</head>

<body>

	<div th:fragment="header_login_section">
	
		<div sec:authorize="isAnonymous()">

			<a th:href="@{/showLoginForm}" th:text="#{index.signin}"
				class="btn btn-outline-warning d-none d-lg-inline"></a> <a
				th:href="@{/showLoginForm}" th:text="#{index.signin}"
				class="text-warning d-lg-none"></a>

		</div>

		<div sec:authorize="isAuthenticated()">
			<div class="ml-auto d-flex">

				<!-- Right dropdown menu for lg and xl screen -->
				<div class="dropdown d-none d-lg-flex">
					<a class="text-warning mr-2 dropdown-toggle my-auto"
						data-toggle="dropdown"
						th:text="${#authentication.getPrincipal().getUsername()}"
						aria-expanded="false" id="UserDropdownMenu" aria-haspopup="true"
						th:href="@{/}"></a>
					<div class="dropdown-menu dropdown-menu-right"
						aria-labelledby="UserDropdownMenu">

						<div class="dropdown-item">Wypełnij Ankietę</div>
						<form th:action="@{/user/accountSettings}" method="GET">
							<button type="submit" class="dropdown-item"
								th:text="#{header.user.accountsettings}"></button>
						</form>
						<div class="dropdown-divider"></div>
						<form th:action="@{/logout}" method="POST">
							<button type="submit" class="dropdown-item"
								th:text="#{index.signout}"></button>
						</form>
					</div>
				</div>

				<!-- Left dropdown menu for xs to md screen -->
				<div class="dropdown d-lg-none">
					<a class="text-warning mr-2 dropdown-toggle my-auto"
						data-toggle="dropdown"
						th:text="${#authentication.getPrincipal().getUsername()}"
						aria-expanded="false" id="UserDropdownMenu" aria-haspopup="true"
						th:href="@{/}"></a>
					<div class="dropdown-menu dropdown-menu-left"
						aria-labelledby="UserDropdownMenu">

						<div class="dropdown-item">Wypełnij Ankietę</div>
						<form th:action="@{/user/accountSettings}" method="GET">
							<button type="submit" class="dropdown-item"
								th:text="#{header.user.accountsettings}"></button>
						</form>
						<div class="dropdown-divider"></div>
						<form th:action="@{/logout}" method="POST">
							<button type="submit" class="dropdown-item"
								th:text="#{index.signout}"></button>
						</form>
					</div>
				</div>


			</div>
		</div>
	</div>

</body>
</html>