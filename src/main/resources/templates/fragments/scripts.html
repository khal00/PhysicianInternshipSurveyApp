<!DOCTYPE html>
<html class="h-100" xmlns="http://www.w3.org/1999/xhtml"
	xmlns:th="https://www.thymeleaf.org"
	xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity5">

<head>
<meta charset="UTF-8">
<title>Fragments - Scripts</title>
</head>

<body>

	<div th:fragment="scripts">
		<script
			src="https://code.jquery.com/jquery-3.4.1.js"
			integrity="sha256-WpOohJOqMqqyKL9FccASB9O0KwACQJpFTUBLTYOVvVU="
			crossorigin="anonymous"></script>
		<script
			src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js"
			integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49"
			crossorigin="anonymous"></script>
		<script
			src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js"
			integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy"
			crossorigin="anonymous"></script>
		<!-- Language change script -->
		<script>
			function replaceUrlParam(url, paramName, paramValue) {
				if (paramValue == null) {
					paramValue = '';
				}
				var pattern = new RegExp('\\b(' + paramName + '=).*?(&|#|$)');
				if (url.search(pattern) >= 0) {
					return url.replace(pattern, '$1' + paramValue + '$2');
				}
				url = url.replace(/[?#]$/, '');
				return url + (url.indexOf('?') > 0 ? '&' : '?') + paramName
						+ '=' + paramValue;
			}

			$(document).ready(
					function() {
						$("#locales").change(
								function() {
									var selectedOption = $('#locales').val();
									
									if (selectedOption != '') {
										var newUrl = replaceUrlParam(window.location.href, 'lang', selectedOption)
										window.location
												.replace(newUrl);
									}
								});
					});
		</script>


	</div>

</body>
</html>